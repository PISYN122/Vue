(function(){"use strict";var e={9221:function(e,r,n){var t=n(5130),i=n(6768);const o={id:"app"},l={class:"image-blocks-container"},s={key:1,class:"loading"};function a(e,r,n,t,a,c){const d=(0,i.g2)("AppHeader"),u=(0,i.g2)("ImageBlock"),p=(0,i.g2)("ImageView"),m=(0,i.g2)("AdminPanel"),k=(0,i.g2)("AppFooter");return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.bF)(d,{onSearch:c.handleSearch},null,8,["onSearch"]),(0,i.Lk)("div",l,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.filteredBlocks,((e,r)=>((0,i.uX)(),(0,i.Wv)(u,{key:r,imageSrc:e.imageSrc,imageAlt:e.imageAlt,description:e.description,rating:e.driver_rating,onClick:r=>c.openModal(e)},null,8,["imageSrc","imageAlt","description","rating","onClick"])))),128))]),a.isModalOpen?((0,i.uX)(),(0,i.Wv)(p,{key:0,block:a.modalContent,onClose:c.closeModal},null,8,["block","onClose"])):(0,i.Q3)("",!0),(0,i.bF)(m,{isAdminPanelOpen:a.isAdminPanelOpen,onClose:c.closeAdminPanel},null,8,["isAdminPanelOpen","onClose"]),(0,i.bF)(k),a.isLoading?((0,i.uX)(),(0,i.CE)("div",s," Завантаження даних... ")):(0,i.Q3)("",!0)])}n(8992),n(4520),n(1454);const c={class:"header"},d={class:"container"},u={class:"row align-items-center"},p={class:"col-lg-6 col-md-8 col-12"},m={class:"search-bar"},k={class:"col-lg-3 col-md-12 col-12 text-end"};function v(e,r,n,o,l,s){return(0,i.uX)(),(0,i.CE)("header",c,[(0,i.Lk)("div",d,[(0,i.Lk)("div",u,[r[4]||(r[4]=(0,i.Lk)("div",{class:"col-lg-3 col-md-4 col-12"},[(0,i.Lk)("h1",{class:"site-title"},"База данних автостанції")],-1)),(0,i.Lk)("div",p,[(0,i.Lk)("div",m,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>l.searchQuery=e),onKeyup:r[1]||(r[1]=(0,t.jR)((r=>e.$emit("search",l.searchQuery)),["enter"])),class:"search-input",placeholder:"Пошук..."},null,544),[[t.Jo,l.searchQuery]])])]),(0,i.Lk)("div",k,[(0,i.Lk)("button",{onClick:r[2]||(r[2]=r=>e.$emit("search",l.searchQuery)),class:"search-button"},r[3]||(r[3]=[(0,i.Lk)("em",{class:"fas fa-search"},null,-1),(0,i.eW)(" Пошук ")]))])])])])}var _={name:"AppHeader",data(){return{searchQuery:""}},methods:{handleSearch(){this.$emit("search",this.searchQuery)}}},y=n(1241);const f=(0,y.A)(_,[["render",v],["__scopeId","data-v-4ad0ade1"]]);var h=f,g=n(7617),L=n(6400),b=n(4232);const w=["src","alt"],A={class:"text-block"},C={class:"column"},T={class:"column"};function O(e,r,n,t,o,l){return(0,i.uX)(),(0,i.CE)("div",{class:"image-block",onClick:r[0]||(r[0]=r=>e.$emit("click"))},[(0,i.Lk)("img",{src:n.imageSrc,alt:n.imageAlt},null,8,w),(0,i.Lk)("div",A,[(0,i.Lk)("div",C,[(0,i.Lk)("span",null,(0,b.v_)(n.description),1)]),(0,i.Lk)("div",T,[(0,i.Lk)("span",null,"Оцінка водія: "+(0,b.v_)(l.driverRating),1)])])])}var P={name:"ImageBlock",props:{imageSrc:{type:String,required:!0},imageAlt:{type:String,default:"Image"},description:{type:String,required:!0},rating:{type:Number,default:0}},computed:{driverRating(){return this.rating?this.rating:"Не оцінено"}}};const S=(0,y.A)(P,[["render",O],["__scopeId","data-v-572616c4"]]);var B=S;const x={class:"modal-content"},I=["src","alt"];function Q(e,r,n,o,l,s){return(0,i.uX)(),(0,i.CE)("div",{class:"modal-overlay",onClick:r[1]||(r[1]=(0,t.D$)(((...e)=>s.closeModal&&s.closeModal(...e)),["self"]))},[(0,i.Lk)("div",x,[r[9]||(r[9]=(0,i.Lk)("h2",null,"Деталі рейсу",-1)),(0,i.Lk)("img",{src:n.block.imageSrc,alt:n.block.imageAlt,class:"modal-image"},null,8,I),(0,i.Lk)("p",null,[r[2]||(r[2]=(0,i.Lk)("strong",null,"Рейс №:",-1)),(0,i.eW)(" "+(0,b.v_)(n.block.num_reys),1)]),(0,i.Lk)("p",null,[r[3]||(r[3]=(0,i.Lk)("strong",null,"Водій:",-1)),(0,i.eW)(" "+(0,b.v_)(n.block.bus_driver),1)]),(0,i.Lk)("p",null,[r[4]||(r[4]=(0,i.Lk)("strong",null,"Оцінка водія:",-1)),(0,i.eW)(" "+(0,b.v_)(n.block.driver_rating),1)]),(0,i.Lk)("p",null,[r[5]||(r[5]=(0,i.Lk)("strong",null,"Маршрут:",-1)),(0,i.eW)(" З "+(0,b.v_)(n.block.zvidki_pryruye)+" до "+(0,b.v_)(n.block.kudy_pryruye),1)]),(0,i.Lk)("p",null,[r[6]||(r[6]=(0,i.Lk)("strong",null,"Час початку:",-1)),(0,i.eW)(" "+(0,b.v_)(n.block.time_to_start),1)]),(0,i.Lk)("p",null,[r[7]||(r[7]=(0,i.Lk)("strong",null,"Час закінчення:",-1)),(0,i.eW)(" "+(0,b.v_)(n.block.time_to_finish),1)]),(0,i.Lk)("p",null,[r[8]||(r[8]=(0,i.Lk)("strong",null,"Ціна:",-1)),(0,i.eW)(" "+(0,b.v_)(n.block.price)+" грн",1)]),(0,i.Lk)("button",{onClick:r[0]||(r[0]=(...e)=>s.closeModal&&s.closeModal(...e))},"Закрити")])])}var q={name:"ImageView",props:{block:{type:Object,required:!0}},methods:{closeModal(){this.$emit("close")}}};const z=(0,y.A)(q,[["render",Q],["__scopeId","data-v-fd721cee"]]);var j=z;const J={class:"admin-panel"};function M(e,r,n,o,l,s){return n.isAdminPanelOpen?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"modal-overlay",onClick:r[11]||(r[11]=(0,t.D$)(((...e)=>n.closePanel&&n.closePanel(...e)),["self"]))},[(0,i.Lk)("div",J,[r[22]||(r[22]=(0,i.Lk)("h2",null,"Додати новий рейс",-1)),(0,i.Lk)("form",{onSubmit:r[9]||(r[9]=(0,t.D$)(((...e)=>s.addTrip&&s.addTrip(...e)),["prevent"]))},[(0,i.Lk)("div",null,[r[12]||(r[12]=(0,i.Lk)("label",{for:"num_reys"},"Номер рейсу:",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>l.newTrip.num_reys=e),type:"text",id:"num_reys",required:""},null,512),[[t.Jo,l.newTrip.num_reys]])]),(0,i.Lk)("div",null,[r[13]||(r[13]=(0,i.Lk)("label",{for:"bus_driver"},"Водій:",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>l.newTrip.bus_driver=e),type:"text",id:"bus_driver",required:""},null,512),[[t.Jo,l.newTrip.bus_driver]])]),(0,i.Lk)("div",null,[r[14]||(r[14]=(0,i.Lk)("label",{for:"zvidki_pryruye"},"Звідки:",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":r[2]||(r[2]=e=>l.newTrip.zvidki_pryruye=e),type:"text",id:"zvidki_pryruye",required:""},null,512),[[t.Jo,l.newTrip.zvidki_pryruye]])]),(0,i.Lk)("div",null,[r[15]||(r[15]=(0,i.Lk)("label",{for:"kudy_pryruye"},"Куди:",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":r[3]||(r[3]=e=>l.newTrip.kudy_pryruye=e),type:"text",id:"kudy_pryruye",required:""},null,512),[[t.Jo,l.newTrip.kudy_pryruye]])]),(0,i.Lk)("div",null,[r[16]||(r[16]=(0,i.Lk)("label",{for:"imgBus"},"Посилання на зображення:",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":r[4]||(r[4]=e=>l.newTrip.imgBus=e),type:"url",id:"imgBus",required:""},null,512),[[t.Jo,l.newTrip.imgBus]])]),(0,i.Lk)("div",null,[r[17]||(r[17]=(0,i.Lk)("label",{for:"driver_rating"},"Оцінка водія:",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":r[5]||(r[5]=e=>l.newTrip.driver_rating=e),type:"number",id:"driver_rating",min:"1",max:"10",required:""},null,512),[[t.Jo,l.newTrip.driver_rating]])]),(0,i.Lk)("div",null,[r[18]||(r[18]=(0,i.Lk)("label",{for:"price"},"Ціна:",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":r[6]||(r[6]=e=>l.newTrip.price=e),type:"number",id:"price",required:""},null,512),[[t.Jo,l.newTrip.price]])]),(0,i.Lk)("div",null,[r[19]||(r[19]=(0,i.Lk)("label",{for:"time_to_start"},"Час відправлення:",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":r[7]||(r[7]=e=>l.newTrip.time_to_start=e),type:"datetime-local",id:"time_to_start",required:""},null,512),[[t.Jo,l.newTrip.time_to_start]])]),(0,i.Lk)("div",null,[r[20]||(r[20]=(0,i.Lk)("label",{for:"time_to_finish"},"Час прибуття:",-1)),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":r[8]||(r[8]=e=>l.newTrip.time_to_finish=e),type:"datetime-local",id:"time_to_finish",required:""},null,512),[[t.Jo,l.newTrip.time_to_finish]])]),r[21]||(r[21]=(0,i.Lk)("button",{type:"submit"},"Додати рейс",-1))],32),(0,i.Lk)("button",{onClick:r[10]||(r[10]=(...e)=>n.closePanel&&n.closePanel(...e))},"Закрити")])])):(0,i.Q3)("",!0)}var U={name:"AdminPanel",props:{isAdminPanelOpen:{type:Boolean,required:!0},closePanel:{type:Function,required:!0}},data(){return{newTrip:{num_reys:"",bus_driver:"",zvidki_pryruye:"",kudy_pryruye:"",imgBus:"",driver_rating:5,price:0,time_to_start:"",time_to_finish:""}}},methods:{async addTrip(){try{const e=(0,L.Sx)(),r=(0,g.aU)(e),n=new Date(this.newTrip.time_to_start).getTime(),t=new Date(this.newTrip.time_to_finish).getTime(),i={...this.newTrip,time_to_start:new Date(n),time_to_finish:new Date(t)},o=await(0,g.gS)((0,g.rJ)(r,"trips"),i);console.log("Документ успішно додано, ID:",o.id),this.newTrip={num_reys:"",bus_driver:"",zvidki_pryruye:"",kudy_pryruye:"",imgBus:"",driver_rating:5,price:0,time_to_start:"",time_to_finish:""}}catch(e){console.error("Помилка при додаванні документа:",e.message)}}}};const V=(0,y.A)(U,[["render",M],["__scopeId","data-v-0525f3a4"]]);var W=V;const $={class:"footer text-center text-lg-start mt-5"};function D(e,r,n,t,o,l){return(0,i.uX)(),(0,i.CE)("footer",$,r[0]||(r[0]=[(0,i.Lk)("div",{class:"container p-4"},[(0,i.Lk)("div",{class:"row mt-4"},[(0,i.Lk)("div",{class:"col-lg-4 col-md-12 mb-4 mb-md-0"},[(0,i.Lk)("h5",{class:"text-uppercase mb-4"},"Про нас"),(0,i.Lk)("p",null,[(0,i.Lk)("strong",null,"Ужгород-2"),(0,i.eW)(" - автостанція")])]),(0,i.Lk)("div",{class:"col-lg-4 col-md-6 mb-4 mb-md-0"},[(0,i.Lk)("h5",{class:"text-uppercase mb-4 pb-1"},"Контакти"),(0,i.Lk)("ul",{class:"fa-ul",style:{"margin-left":"1.65em"}},[(0,i.Lk)("li",{class:"mb-3"},[(0,i.Lk)("span",{class:"fa-li"},[(0,i.Lk)("em",{class:"fas fa-home"})]),(0,i.Lk)("span",{class:"ms-2"},"Ужгород, Україна")]),(0,i.Lk)("li",{class:"mb-3"},[(0,i.Lk)("span",{class:"fa-li"},[(0,i.Lk)("em",{class:"fas fa-envelope"})]),(0,i.Lk)("span",{class:"ms-2"},"nnnnnnnnnnnnn@outlook.com")]),(0,i.Lk)("li",{class:"mb-3"},[(0,i.Lk)("span",{class:"fa-li"},[(0,i.Lk)("em",{class:"fas fa-phone"})]),(0,i.Lk)("span",{class:"ms-2"},"+380(99)99-99-999")])])]),(0,i.Lk)("div",{class:"col-lg-4 col-md-6 mb-4 mb-md-0"},[(0,i.Lk)("h5",{class:"text-uppercase mb-4"},"Знайти нас"),(0,i.Lk)("iframe",{class:"google_map rounded",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d20764.992544472373!2d22.30279819999999!3d48.6163782!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x473aa4ec7c7a13d1%3A0x28b3f342f93e9f27!2z0JfQsNGA0YDQvtCz0L7Qu9Cw0LzQvtCw0Y8!5e0!3m2!1suk!2sus!4v1692901381688!5m2!1suk!2sus",allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})])])],-1),(0,i.Lk)("div",{class:"text-center copyright p-3"},[(0,i.Lk)("span",{class:"credit"},[(0,i.eW)("Створено "),(0,i.Lk)("a",{href:"https://github.com/PISYN122"},"Tilt"),(0,i.eW)(" | ")]),(0,i.Lk)("span",{class:"far fa-copyright"}),(0,i.Lk)("span",null," 2024")],-1)]))}var F={name:"AppFooter",methods:{openLink(e){window.open(e,"_blank")}}};const E=(0,y.A)(F,[["render",D],["__scopeId","data-v-3ef19d00"]]);var X=E;const H={apiKey:"AIzaSyCqd9o3t6PsUVX6BC4TZ79BUgkoa7HZPJs",authDomain:"projectvuedb-6d005.firebaseapp.com",projectId:"projectvuedb-6d005",storageBucket:"projectvuedb-6d005.firebasestorage.app",messagingSenderId:"85293578380",appId:"1:85293578380:web:ed0c76faa5ec0877f623a9"},G=(0,L.Wp)(H),K=(0,g.aU)(G);var N={name:"App",components:{AppHeader:h,ImageBlock:B,ImageView:j,AdminPanel:W,AppFooter:X},data(){return{blocks:[],filteredBlocks:[],searchQuery:"",isModalOpen:!1,modalContent:{},isAdminPanelOpen:!1,isLoading:!1}},async mounted(){this.isLoading=!0,await this.fetchTrips(),this.isLoading=!1},methods:{async fetchTrips(){try{const e=await(0,g.GG)((0,g.rJ)(K,"trips"));this.blocks=e.docs.map((e=>{const r=e.data();return{imageSrc:r.imgBus,imageAlt:`Зображення рейсу ${r.num_reys}`,description:`Рейс №${r.num_reys}: з ${r.zvidki_pryruye} до ${r.kudy_pryruye}, Водій: ${r.bus_driver}`,driver_rating:r.driver_rating||"Не оцінено",num_reys:r.num_reys,bus_driver:r.bus_driver,zvidki_pryruye:r.zvidki_pryruye,kudy_pryruye:r.kudy_pryruye,time_to_start:r.time_to_start.toDate().toLocaleString(),time_to_finish:r.time_to_finish.toDate().toLocaleString(),price:r.price}})),this.filteredBlocks=[...this.blocks],console.log("Fetched blocks:",this.blocks)}catch(e){console.error("Помилка при отриманні документів з Firestore:",e.message),alert("Помилка при завантаженні даних!")}},handleSearch(e){this.searchQuery=e.trim(),this.filterBlocks()},filterBlocks(){console.log("Searching with query:",this.searchQuery),this.searchQuery?this.filteredBlocks=this.blocks.filter((e=>{const r=this.searchQuery.toLowerCase();return e.description.toLowerCase().includes(r)||e.bus_driver.toLowerCase().includes(r)||e.zvidki_pryruye.toLowerCase().includes(r)||e.kudy_pryruye.toLowerCase().includes(r)})):this.filteredBlocks=[...this.blocks],console.log("Filtered blocks:",this.filteredBlocks)},openModal(e){this.modalContent=e,this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},openAdminPanel(){this.isAdminPanelOpen=!0},closeAdminPanel(){this.isAdminPanelOpen=!1}},watch:{searchQuery(){this.filterBlocks()}}};const R=(0,y.A)(N,[["render",a],["__scopeId","data-v-55c33223"]]);var Y=R,Z=n(1387);const ee=[{path:"/",name:"Home",component:Y},{path:"/admin",name:"Admin",component:W}],re=(0,Z.aE)({history:(0,Z.LA)("/"),routes:ee});var ne=re;(0,t.Ef)(Y).use(ne).mount("#app")}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={exports:{}};return e[t].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(r,t,i,o){if(!t){var l=1/0;for(d=0;d<e.length;d++){t=e[d][0],i=e[d][1],o=e[d][2];for(var s=!0,a=0;a<t.length;a++)(!1&o||l>=o)&&Object.keys(n.O).every((function(e){return n.O[e](t[a])}))?t.splice(a--,1):(s=!1,o<l&&(l=o));if(s){e.splice(d--,1);var c=i();void 0!==c&&(r=c)}}return r}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,i,o]}}(),function(){n.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(r,{a:r}),r}}(),function(){n.d=function(e,r){for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={524:0};n.O.j=function(r){return 0===e[r]};var r=function(r,t){var i,o,l=t[0],s=t[1],a=t[2],c=0;if(l.some((function(r){return 0!==e[r]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(a)var d=a(n)}for(r&&r(t);c<l.length;c++)o=l[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},t=self["webpackChunkproject_vue_station"]=self["webpackChunkproject_vue_station"]||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}();var t=n.O(void 0,[504],(function(){return n(9221)}));t=n.O(t)})();
//# sourceMappingURL=app.761720aa.js.map